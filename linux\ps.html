
linux ps命令

linux上进程有5种状态:
1. 运行(正在运行或在运行队列中等待) 
2. 中断(休眠中, 受阻, 在等待某个条件的形成或接受到信号) 
3. 不可中断(收到信号不唤醒和不可运行, 进程必须等待直到有中断发生) 
4. 僵死(进程已终止, 但进程描述符存在, 直到父进程调用wait4()系统调用后释放) 
5. 停止(进程收到SIGSTOP, SIGSTP, SIGTIN, SIGTOU信号后停止运行)

ps工具标识进程的5种状态码: 
R 运行 runnable (on run queue) 
S 中断 sleeping 
D 不可中断 uninterruptible sleep (usually IO) 
Z 僵死 a defunct (”zombie”) process 
T 停止 traced or stopped 

USER               PID  %CPU %MEM      VSZ    RSS   TT  STAT STARTED      TIME COMMAND
wanli            11465   3.5  1.8  3248600 151992   ??  S    四09下午  11:15.33 /Applications/WeChat.app/Contents/MacOS/WeChat
wanli              284   1.9  2.4  3477952 203120   ??  S     9 518   69:33.58 /Applications/QQ.app/Contents/MacOS/QQ -psn_0_53261
root                86   1.4  0.2  2511948  15320   ??  Ss    9 518    0:24.62 /usr/libexec/opendirectoryd

　　1）ps a 显示现行终端机下的所有程序，包括其他用户的程序。 
　　2）ps -A 显示所有程序。 
　　3）ps c 列出程序时，显示每个程序真正的指令名称，而不包含路径，参数或常驻服务的标示。 
　　4）ps -e 此参数的效果和指定"A"参数相同。  例如：  ps -e|grep sshd
　　5）ps e 列出程序时，显示每个程序所使用的环境变量。 
　　6）ps f 用ASCII字符显示树状结构，表达程序间的相互关系。 
　　7）ps -H 显示树状结构，表示程序间的相互关系。 
　　8）ps -N 显示所有的程序，除了执行ps指令终端机下的程序之外。 
　　9）ps s 采用程序信号的格式显示程序状况。 
　　10）ps S 列出程序时，包括已中断的子程序资料。 
　　11）ps -t<终端机编号> 
　　指定终端机编号，并列出属于该终端机的程序的状况。 
　　12）ps u 
　　以用户为主的格式来显示程序状况。 
　　13）ps x 
　　显示所有程序，不以终端机来区分。 
　　最常用的方法是ps -aux,然后再利用一个管道符号导向到grep去查找特定的进程,然后再对特定的进程进行操作。 
    
使用PS命令分析系统性能的方法主要有： 
1) 首先，根据用户ID寻找由同一用户执行的许多相似任务，这些任务很可能是因为用户运行的某个脚本程序在后台启动多个进程而造成的。 
2) 接下来，检查TIME域中各进程累计占用CPU的时间，如果有某个进程累计占用了大量的CPU时间，通常说明该进程可能陷入了无限循环，或某写逻辑出了错 
3) 找到那些已陷入死锁的进程ID后，就可以使用kill命令强制终止该进程了。



